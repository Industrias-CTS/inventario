{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import{Container,Paper,TextField,Button,Typography,Box,Alert,CircularProgress,Grid}from'@mui/material';import{useForm}from'react-hook-form';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _errors$first_name,_errors$last_name,_errors$username,_errors$email,_errors$password,_errors$confirmPasswo;const navigate=useNavigate();const{register:registerUser}=useAuth();const[error,setError]=useState(null);const[loading,setLoading]=useState(false);const{register,handleSubmit,watch,formState:{errors}}=useForm();const password=watch('password');const onSubmit=async data=>{try{setError(null);setLoading(true);const{confirmPassword,...userData}=data;await registerUser(userData);navigate('/dashboard');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Error al registrar usuario');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{marginTop:4,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,width:'100%'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",align:\"center\",gutterBottom:true,children:\"Registro de Usuario\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit(onSubmit),sx:{mt:1},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,label:\"Nombre\",autoFocus:true,...register('first_name',{required:'Este campo es requerido'}),error:!!errors.first_name,helperText:(_errors$first_name=errors.first_name)===null||_errors$first_name===void 0?void 0:_errors$first_name.message})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,label:\"Apellido\",...register('last_name',{required:'Este campo es requerido'}),error:!!errors.last_name,helperText:(_errors$last_name=errors.last_name)===null||_errors$last_name===void 0?void 0:_errors$last_name.message})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,label:\"Usuario\",autoComplete:\"username\",...register('username',{required:'Este campo es requerido',minLength:{value:3,message:'El usuario debe tener al menos 3 caracteres'}}),error:!!errors.username,helperText:(_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.message})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,label:\"Email\",type:\"email\",autoComplete:\"email\",...register('email',{required:'Este campo es requerido',pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,message:'Email inválido'}}),error:!!errors.email,helperText:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,label:\"Contrase\\xF1a\",type:\"password\",autoComplete:\"new-password\",...register('password',{required:'Este campo es requerido',minLength:{value:6,message:'La contraseña debe tener al menos 6 caracteres'}}),error:!!errors.password,helperText:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,label:\"Confirmar Contrase\\xF1a\",type:\"password\",...register('confirmPassword',{required:'Este campo es requerido',validate:value=>value===password||'Las contraseñas no coinciden'}),error:!!errors.confirmPassword,helperText:(_errors$confirmPasswo=errors.confirmPassword)===null||_errors$confirmPasswo===void 0?void 0:_errors$confirmPasswo.message})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Registrarse'}),/*#__PURE__*/_jsx(Box,{textAlign:\"center\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"primary\",children:\"\\xBFYa tienes una cuenta? Inicia sesi\\xF3n\"})})})]})]})})});}","map":{"version":3,"names":["React","useState","useNavigate","Link","Container","Paper","TextField","Button","Typography","Box","Alert","CircularProgress","Grid","useForm","useAuth","jsx","_jsx","jsxs","_jsxs","Register","_errors$first_name","_errors$last_name","_errors$username","_errors$email","_errors$password","_errors$confirmPasswo","navigate","register","registerUser","error","setError","loading","setLoading","handleSubmit","watch","formState","errors","password","onSubmit","data","confirmPassword","userData","err","_err$response","_err$response$data","response","component","maxWidth","children","sx","marginTop","display","flexDirection","alignItems","elevation","padding","width","variant","align","gutterBottom","severity","mb","mt","container","spacing","item","xs","sm","required","fullWidth","label","autoFocus","first_name","helperText","message","last_name","autoComplete","minLength","value","username","type","pattern","email","validate","disabled","size","textAlign","to","style","textDecoration","color"],"sources":["C:/Users/Mariana/Documents/Inventario v1/inventory-app/frontend/src/pages/Register.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport {\n  Container,\n  Paper,\n  TextField,\n  Button,\n  Typography,\n  Box,\n  Alert,\n  CircularProgress,\n  Grid,\n} from '@mui/material';\nimport { useForm } from 'react-hook-form';\nimport { useAuth } from '../contexts/AuthContext';\n\ninterface RegisterForm {\n  username: string;\n  email: string;\n  password: string;\n  confirmPassword: string;\n  first_name: string;\n  last_name: string;\n}\n\nexport default function Register() {\n  const navigate = useNavigate();\n  const { register: registerUser } = useAuth();\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors },\n  } = useForm<RegisterForm>();\n\n  const password = watch('password');\n\n  const onSubmit = async (data: RegisterForm) => {\n    try {\n      setError(null);\n      setLoading(true);\n      const { confirmPassword, ...userData } = data;\n      await registerUser(userData);\n      navigate('/dashboard');\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Error al registrar usuario');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      <Box\n        sx={{\n          marginTop: 4,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Paper elevation={3} sx={{ padding: 4, width: '100%' }}>\n          <Typography component=\"h1\" variant=\"h5\" align=\"center\" gutterBottom>\n            Registro de Usuario\n          </Typography>\n\n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\n              {error}\n            </Alert>\n          )}\n\n          <Box component=\"form\" onSubmit={handleSubmit(onSubmit)} sx={{ mt: 1 }}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  required\n                  fullWidth\n                  label=\"Nombre\"\n                  autoFocus\n                  {...register('first_name', {\n                    required: 'Este campo es requerido',\n                  })}\n                  error={!!errors.first_name}\n                  helperText={errors.first_name?.message}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  required\n                  fullWidth\n                  label=\"Apellido\"\n                  {...register('last_name', {\n                    required: 'Este campo es requerido',\n                  })}\n                  error={!!errors.last_name}\n                  helperText={errors.last_name?.message}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  label=\"Usuario\"\n                  autoComplete=\"username\"\n                  {...register('username', {\n                    required: 'Este campo es requerido',\n                    minLength: {\n                      value: 3,\n                      message: 'El usuario debe tener al menos 3 caracteres',\n                    },\n                  })}\n                  error={!!errors.username}\n                  helperText={errors.username?.message}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  label=\"Email\"\n                  type=\"email\"\n                  autoComplete=\"email\"\n                  {...register('email', {\n                    required: 'Este campo es requerido',\n                    pattern: {\n                      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                      message: 'Email inválido',\n                    },\n                  })}\n                  error={!!errors.email}\n                  helperText={errors.email?.message}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  label=\"Contraseña\"\n                  type=\"password\"\n                  autoComplete=\"new-password\"\n                  {...register('password', {\n                    required: 'Este campo es requerido',\n                    minLength: {\n                      value: 6,\n                      message: 'La contraseña debe tener al menos 6 caracteres',\n                    },\n                  })}\n                  error={!!errors.password}\n                  helperText={errors.password?.message}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  required\n                  fullWidth\n                  label=\"Confirmar Contraseña\"\n                  type=\"password\"\n                  {...register('confirmPassword', {\n                    required: 'Este campo es requerido',\n                    validate: (value) =>\n                      value === password || 'Las contraseñas no coinciden',\n                  })}\n                  error={!!errors.confirmPassword}\n                  helperText={errors.confirmPassword?.message}\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              disabled={loading}\n            >\n              {loading ? <CircularProgress size={24} /> : 'Registrarse'}\n            </Button>\n            <Box textAlign=\"center\">\n              <Link to=\"/login\" style={{ textDecoration: 'none' }}>\n                <Typography variant=\"body2\" color=\"primary\">\n                  ¿Ya tienes una cuenta? Inicia sesión\n                </Typography>\n              </Link>\n            </Box>\n          </Box>\n        </Paper>\n      </Box>\n    </Container>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}