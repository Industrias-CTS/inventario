{"ast":null,"code":"import api from'./api';export const authService={async login(username,password){const response=await api.post('/auth/login',{username,password});if(response.data.token){localStorage.setItem('token',response.data.token);localStorage.setItem('user',JSON.stringify(response.data.user));}return response.data;},async register(userData){const response=await api.post('/auth/register',userData);if(response.data.token){localStorage.setItem('token',response.data.token);localStorage.setItem('user',JSON.stringify(response.data.user));}return response.data;},async getProfile(){const response=await api.get('/auth/profile');return response.data;},logout(){localStorage.removeItem('token');localStorage.removeItem('user');},getCurrentUser(){const userStr=localStorage.getItem('user');if(userStr){try{return JSON.parse(userStr);}catch{return null;}}return null;},getToken(){return localStorage.getItem('token');},isAuthenticated(){return!!this.getToken();}};","map":{"version":3,"names":["api","authService","login","username","password","response","post","data","token","localStorage","setItem","JSON","stringify","user","register","userData","getProfile","get","logout","removeItem","getCurrentUser","userStr","getItem","parse","getToken","isAuthenticated"],"sources":["C:/Users/Mariana/Documents/Inventario v1/inventory-app/frontend/src/services/auth.service.ts"],"sourcesContent":["import api from './api';\nimport { AuthResponse, User } from '../types';\n\nexport const authService = {\n  async login(username: string, password: string): Promise<AuthResponse> {\n    const response = await api.post<AuthResponse>('/auth/login', {\n      username,\n      password,\n    });\n    \n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n    }\n    \n    return response.data;\n  },\n\n  async register(userData: {\n    username: string;\n    email: string;\n    password: string;\n    first_name: string;\n    last_name: string;\n  }): Promise<AuthResponse> {\n    const response = await api.post<AuthResponse>('/auth/register', userData);\n    \n    if (response.data.token) {\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n    }\n    \n    return response.data;\n  },\n\n  async getProfile(): Promise<{ user: User }> {\n    const response = await api.get<{ user: User }>('/auth/profile');\n    return response.data;\n  },\n\n  logout(): void {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  },\n\n  getCurrentUser(): User | null {\n    const userStr = localStorage.getItem('user');\n    if (userStr) {\n      try {\n        return JSON.parse(userStr);\n      } catch {\n        return null;\n      }\n    }\n    return null;\n  },\n\n  getToken(): string | null {\n    return localStorage.getItem('token');\n  },\n\n  isAuthenticated(): boolean {\n    return !!this.getToken();\n  },\n};"],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAM,OAAO,CAGvB,MAAO,MAAM,CAAAC,WAAW,CAAG,CACzB,KAAM,CAAAC,KAAKA,CAACC,QAAgB,CAAEC,QAAgB,CAAyB,CACrE,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAe,aAAa,CAAE,CAC3DH,QAAQ,CACRC,QACF,CAAC,CAAC,CAEF,GAAIC,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAE,CACvBC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC,CAClDC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAACM,IAAI,CAAC,CAAC,CAClE,CAEA,MAAO,CAAAR,QAAQ,CAACE,IAAI,CACtB,CAAC,CAED,KAAM,CAAAO,QAAQA,CAACC,QAMd,CAAyB,CACxB,KAAM,CAAAV,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACM,IAAI,CAAe,gBAAgB,CAAES,QAAQ,CAAC,CAEzE,GAAIV,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAE,CACvBC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC,CAClDC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAACM,IAAI,CAAC,CAAC,CAClE,CAEA,MAAO,CAAAR,QAAQ,CAACE,IAAI,CACtB,CAAC,CAED,KAAM,CAAAS,UAAUA,CAAA,CAA4B,CAC1C,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAL,GAAG,CAACiB,GAAG,CAAiB,eAAe,CAAC,CAC/D,MAAO,CAAAZ,QAAQ,CAACE,IAAI,CACtB,CAAC,CAEDW,MAAMA,CAAA,CAAS,CACbT,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC,CAChCV,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC,CACjC,CAAC,CAEDC,cAAcA,CAAA,CAAgB,CAC5B,KAAM,CAAAC,OAAO,CAAGZ,YAAY,CAACa,OAAO,CAAC,MAAM,CAAC,CAC5C,GAAID,OAAO,CAAE,CACX,GAAI,CACF,MAAO,CAAAV,IAAI,CAACY,KAAK,CAACF,OAAO,CAAC,CAC5B,CAAE,KAAM,CACN,MAAO,KAAI,CACb,CACF,CACA,MAAO,KAAI,CACb,CAAC,CAEDG,QAAQA,CAAA,CAAkB,CACxB,MAAO,CAAAf,YAAY,CAACa,OAAO,CAAC,OAAO,CAAC,CACtC,CAAC,CAEDG,eAAeA,CAAA,CAAY,CACzB,MAAO,CAAC,CAAC,IAAI,CAACD,QAAQ,CAAC,CAAC,CAC1B,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}