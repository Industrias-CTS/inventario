{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mariana\\\\Documents\\\\Inventario v1\\\\inventory-app\\\\frontend\\\\src\\\\pages\\\\Users.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, Button, Paper, Typography, IconButton, Chip, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Grid, MenuItem, Alert, Switch, FormControlLabel } from '@mui/material';\nimport { DataGrid } from '@mui/x-data-grid';\nimport {\n// Add,\nEdit, Delete, PersonAdd, Refresh } from '@mui/icons-material';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { useForm } from 'react-hook-form';\nimport { format } from 'date-fns';\nimport { usersService } from '../services/users.service';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Users() {\n  _s();\n  var _errors$username, _errors$email, _errors$first_name, _errors$last_name, _errors$role, _errors$password, _errors$confirmPasswo;\n  const [openDialog, setOpenDialog] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const queryClient = useQueryClient();\n  const {\n    user: currentUser\n  } = useAuth();\n  const {\n    data,\n    isLoading,\n    error\n  } = useQuery({\n    queryKey: ['users'],\n    queryFn: () => usersService.getUsers()\n  });\n  const createMutation = useMutation({\n    mutationFn: usersService.createUser,\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['users']\n      });\n      setOpenDialog(false);\n      reset();\n    }\n  });\n  const updateMutation = useMutation({\n    mutationFn: ({\n      id,\n      data\n    }) => usersService.updateUser(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['users']\n      });\n      setOpenDialog(false);\n      setSelectedUser(null);\n      reset();\n    }\n  });\n  const deleteMutation = useMutation({\n    mutationFn: usersService.deleteUser,\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['users']\n      });\n    }\n  });\n  const {\n    register,\n    handleSubmit,\n    reset,\n    setValue,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const columns = [{\n    field: 'username',\n    headerName: 'Usuario',\n    width: 120\n  }, {\n    field: 'email',\n    headerName: 'Email',\n    flex: 1,\n    minWidth: 200\n  }, {\n    field: 'full_name',\n    headerName: 'Nombre Completo',\n    width: 200,\n    valueGetter: params => `${params.row.first_name} ${params.row.last_name}`\n  }, {\n    field: 'role',\n    headerName: 'Rol',\n    width: 100,\n    renderCell: params => {\n      const roleColors = {\n        admin: 'error',\n        user: 'primary',\n        viewer: 'secondary'\n      };\n      return /*#__PURE__*/_jsxDEV(Chip, {\n        label: params.value,\n        color: roleColors[params.value],\n        size: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    field: 'is_active',\n    headerName: 'Estado',\n    width: 100,\n    renderCell: params => /*#__PURE__*/_jsxDEV(Chip, {\n      label: params.value ? 'Activo' : 'Inactivo',\n      color: params.value ? 'success' : 'default',\n      size: \"small\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)\n  }, {\n    field: 'created_at',\n    headerName: 'Fecha Creación',\n    width: 150,\n    valueFormatter: params => format(new Date(params.value), 'dd/MM/yyyy')\n  }, {\n    field: 'actions',\n    headerName: 'Acciones',\n    width: 120,\n    sortable: false,\n    renderCell: params => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"small\",\n        onClick: () => handleEdit(params.row),\n        color: \"primary\",\n        children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), params.row.id !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id) && /*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"small\",\n        onClick: () => handleDelete(params.row.id),\n        color: \"error\",\n        children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)\n  }];\n  const handleEdit = user => {\n    setSelectedUser(user);\n    setValue('username', user.username);\n    setValue('email', user.email);\n    setValue('first_name', user.first_name);\n    setValue('last_name', user.last_name);\n    setValue('role', user.role);\n    setValue('is_active', user.is_active);\n    setOpenDialog(true);\n  };\n  const handleDelete = async id => {\n    if (window.confirm('¿Está seguro de desactivar este usuario?')) {\n      deleteMutation.mutate(id);\n    }\n  };\n  const onSubmit = data => {\n    const {\n      confirmPassword,\n      ...userData\n    } = data;\n    if (selectedUser) {\n      updateMutation.mutate({\n        id: selectedUser.id,\n        data: userData\n      });\n    } else {\n      createMutation.mutate(userData);\n    }\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setSelectedUser(null);\n    reset();\n  };\n  if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: \"Acceso denegado: Se requieren permisos de administrador para ver esta p\\xE1gina.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    var _response, _response$data;\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: [\"Error al cargar usuarios: \", (error === null || error === void 0 ? void 0 : (_response = error.response) === null || _response === void 0 ? void 0 : (_response$data = _response.data) === null || _response$data === void 0 ? void 0 : _response$data.error) || 'Error desconocido']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 3,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: \"Gesti\\xF3n de Usuarios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        gap: 2,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: () => queryClient.invalidateQueries({\n            queryKey: ['users']\n          }),\n          children: /*#__PURE__*/_jsxDEV(Refresh, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(PersonAdd, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 24\n          }, this),\n          onClick: () => setOpenDialog(true),\n          children: \"Nuevo Usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        height: 600,\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(DataGrid, {\n        rows: (data === null || data === void 0 ? void 0 : data.users) || [],\n        columns: columns,\n        loading: isLoading,\n        pageSizeOptions: [10, 25, 50],\n        initialState: {\n          pagination: {\n            paginationModel: {\n              pageSize: 25\n            }\n          }\n        },\n        checkboxSelection: true,\n        disableRowSelectionOnClick: true,\n        sx: {\n          '& .MuiDataGrid-cell:hover': {\n            color: 'primary.main'\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDialog,\n      onClose: handleCloseDialog,\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: selectedUser ? 'Editar Usuario' : 'Nuevo Usuario'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            sx: {\n              mt: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Usuario\",\n                ...register('username', {\n                  required: 'El usuario es requerido'\n                }),\n                error: !!errors.username,\n                helperText: (_errors$username = errors.username) === null || _errors$username === void 0 ? void 0 : _errors$username.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Email\",\n                type: \"email\",\n                ...register('email', {\n                  required: 'El email es requerido',\n                  pattern: {\n                    value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                    message: 'Email inválido'\n                  }\n                }),\n                error: !!errors.email,\n                helperText: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Nombre\",\n                ...register('first_name', {\n                  required: 'El nombre es requerido'\n                }),\n                error: !!errors.first_name,\n                helperText: (_errors$first_name = errors.first_name) === null || _errors$first_name === void 0 ? void 0 : _errors$first_name.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Apellido\",\n                ...register('last_name', {\n                  required: 'El apellido es requerido'\n                }),\n                error: !!errors.last_name,\n                helperText: (_errors$last_name = errors.last_name) === null || _errors$last_name === void 0 ? void 0 : _errors$last_name.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Rol\",\n                select: true,\n                defaultValue: \"user\",\n                ...register('role', {\n                  required: 'El rol es requerido'\n                }),\n                error: !!errors.role,\n                helperText: (_errors$role = errors.role) === null || _errors$role === void 0 ? void 0 : _errors$role.message,\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"admin\",\n                  children: \"Administrador\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"user\",\n                  children: \"Usuario\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"viewer\",\n                  children: \"Visualizador\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this), selectedUser && /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                control: /*#__PURE__*/_jsxDEV(Switch, {\n                  ...register('is_active'),\n                  defaultChecked: selectedUser.is_active\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 23\n                }, this),\n                label: \"Usuario Activo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: selectedUser ? 'Nueva Contraseña (opcional)' : 'Contraseña',\n                type: \"password\",\n                ...register('password', {\n                  required: !selectedUser ? 'La contraseña es requerida' : false,\n                  minLength: {\n                    value: 6,\n                    message: 'La contraseña debe tener al menos 6 caracteres'\n                  }\n                }),\n                error: !!errors.password,\n                helperText: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"Confirmar Contrase\\xF1a\",\n                type: \"password\",\n                ...register('confirmPassword', {\n                  validate: (value, {\n                    password\n                  }) => {\n                    if (!selectedUser && !value) return 'Confirme la contraseña';\n                    if (password && value !== password) return 'Las contraseñas no coinciden';\n                    return true;\n                  }\n                }),\n                error: !!errors.confirmPassword,\n                helperText: (_errors$confirmPasswo = errors.confirmPassword) === null || _errors$confirmPasswo === void 0 ? void 0 : _errors$confirmPasswo.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCloseDialog,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            disabled: createMutation.isPending || updateMutation.isPending,\n            children: selectedUser ? 'Actualizar' : 'Crear'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 5\n  }, this);\n}\n_s(Users, \"SJbgZKyxmBdKtfWJ0FKwgEExXWM=\", false, function () {\n  return [useQueryClient, useAuth, useQuery, useMutation, useMutation, useMutation, useForm];\n});\n_c = Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["React","useState","Box","Button","Paper","Typography","IconButton","Chip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Grid","MenuItem","Alert","Switch","FormControlLabel","DataGrid","Edit","Delete","PersonAdd","Refresh","useQuery","useMutation","useQueryClient","useForm","format","usersService","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Users","_s","_errors$username","_errors$email","_errors$first_name","_errors$last_name","_errors$role","_errors$password","_errors$confirmPasswo","openDialog","setOpenDialog","selectedUser","setSelectedUser","queryClient","user","currentUser","data","isLoading","error","queryKey","queryFn","getUsers","createMutation","mutationFn","createUser","onSuccess","invalidateQueries","reset","updateMutation","id","updateUser","deleteMutation","deleteUser","register","handleSubmit","setValue","formState","errors","columns","field","headerName","width","flex","minWidth","valueGetter","params","row","first_name","last_name","renderCell","roleColors","admin","viewer","label","value","color","size","fileName","_jsxFileName","lineNumber","columnNumber","valueFormatter","Date","sortable","children","onClick","handleEdit","handleDelete","username","email","role","is_active","window","confirm","mutate","onSubmit","confirmPassword","userData","handleCloseDialog","severity","_response","_response$data","response","display","justifyContent","alignItems","mb","variant","gap","startIcon","sx","height","rows","users","loading","pageSizeOptions","initialState","pagination","paginationModel","pageSize","checkboxSelection","disableRowSelectionOnClick","open","onClose","maxWidth","fullWidth","container","spacing","mt","item","xs","sm","required","helperText","message","type","pattern","select","defaultValue","control","defaultChecked","minLength","password","validate","disabled","isPending","_c","$RefreshReg$"],"sources":["C:/Users/Mariana/Documents/Inventario v1/inventory-app/frontend/src/pages/Users.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Button,\n  Paper,\n  Typography,\n  IconButton,\n  Chip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  Grid,\n  MenuItem,\n  Alert,\n  Switch,\n  FormControlLabel,\n} from '@mui/material';\nimport { DataGrid, GridColDef } from '@mui/x-data-grid';\nimport {\n  // Add,\n  Edit,\n  Delete,\n  PersonAdd,\n  Refresh,\n} from '@mui/icons-material';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { useForm } from 'react-hook-form';\nimport { format } from 'date-fns';\nimport { usersService } from '../services/users.service';\nimport { User } from '../types';\nimport { useAuth } from '../contexts/AuthContext';\n\nexport default function Users() {\n  const [openDialog, setOpenDialog] = useState(false);\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\n  const queryClient = useQueryClient();\n  const { user: currentUser } = useAuth();\n\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['users'],\n    queryFn: () => usersService.getUsers(),\n  });\n\n  const createMutation = useMutation({\n    mutationFn: usersService.createUser,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['users'] });\n      setOpenDialog(false);\n      reset();\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<User & { password?: string }> }) =>\n      usersService.updateUser(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['users'] });\n      setOpenDialog(false);\n      setSelectedUser(null);\n      reset();\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: usersService.deleteUser,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['users'] });\n    },\n  });\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    setValue,\n    formState: { errors },\n  } = useForm<Partial<User & { password?: string; confirmPassword?: string }>>();\n\n  const columns: GridColDef[] = [\n    { field: 'username', headerName: 'Usuario', width: 120 },\n    { field: 'email', headerName: 'Email', flex: 1, minWidth: 200 },\n    {\n      field: 'full_name',\n      headerName: 'Nombre Completo',\n      width: 200,\n      valueGetter: (params) => `${params.row.first_name} ${params.row.last_name}`,\n    },\n    {\n      field: 'role',\n      headerName: 'Rol',\n      width: 100,\n      renderCell: (params) => {\n        const roleColors = {\n          admin: 'error',\n          user: 'primary',\n          viewer: 'secondary',\n        };\n        return (\n          <Chip\n            label={params.value}\n            color={roleColors[params.value as keyof typeof roleColors] as any}\n            size=\"small\"\n          />\n        );\n      },\n    },\n    {\n      field: 'is_active',\n      headerName: 'Estado',\n      width: 100,\n      renderCell: (params) => (\n        <Chip\n          label={params.value ? 'Activo' : 'Inactivo'}\n          color={params.value ? 'success' : 'default'}\n          size=\"small\"\n        />\n      ),\n    },\n    {\n      field: 'created_at',\n      headerName: 'Fecha Creación',\n      width: 150,\n      valueFormatter: (params) =>\n        format(new Date(params.value), 'dd/MM/yyyy'),\n    },\n    {\n      field: 'actions',\n      headerName: 'Acciones',\n      width: 120,\n      sortable: false,\n      renderCell: (params) => (\n        <>\n          <IconButton\n            size=\"small\"\n            onClick={() => handleEdit(params.row)}\n            color=\"primary\"\n          >\n            <Edit />\n          </IconButton>\n          {params.row.id !== currentUser?.id && (\n            <IconButton\n              size=\"small\"\n              onClick={() => handleDelete(params.row.id)}\n              color=\"error\"\n            >\n              <Delete />\n            </IconButton>\n          )}\n        </>\n      ),\n    },\n  ];\n\n  const handleEdit = (user: User) => {\n    setSelectedUser(user);\n    setValue('username', user.username);\n    setValue('email', user.email);\n    setValue('first_name', user.first_name);\n    setValue('last_name', user.last_name);\n    setValue('role', user.role);\n    setValue('is_active', user.is_active);\n    setOpenDialog(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (window.confirm('¿Está seguro de desactivar este usuario?')) {\n      deleteMutation.mutate(id);\n    }\n  };\n\n  const onSubmit = (data: Partial<User & { password?: string; confirmPassword?: string }>) => {\n    const { confirmPassword, ...userData } = data;\n    \n    if (selectedUser) {\n      updateMutation.mutate({ id: selectedUser.id, data: userData });\n    } else {\n      createMutation.mutate(userData as any);\n    }\n  };\n\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    setSelectedUser(null);\n    reset();\n  };\n\n  if (currentUser?.role !== 'admin') {\n    return (\n      <Box>\n        <Alert severity=\"error\">\n          Acceso denegado: Se requieren permisos de administrador para ver esta página.\n        </Alert>\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Box>\n        <Alert severity=\"error\">\n          Error al cargar usuarios: {(error as any)?.response?.data?.error || 'Error desconocido'}\n        </Alert>\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\n        <Typography variant=\"h4\">Gestión de Usuarios</Typography>\n        <Box display=\"flex\" gap={2}>\n          <IconButton\n            onClick={() => queryClient.invalidateQueries({ queryKey: ['users'] })}\n          >\n            <Refresh />\n          </IconButton>\n          <Button\n            variant=\"contained\"\n            startIcon={<PersonAdd />}\n            onClick={() => setOpenDialog(true)}\n          >\n            Nuevo Usuario\n          </Button>\n        </Box>\n      </Box>\n\n      <Paper sx={{ height: 600, width: '100%' }}>\n        <DataGrid\n          rows={data?.users || []}\n          columns={columns}\n          loading={isLoading}\n          pageSizeOptions={[10, 25, 50]}\n          initialState={{\n            pagination: {\n              paginationModel: { pageSize: 25 },\n            },\n          }}\n          checkboxSelection\n          disableRowSelectionOnClick\n          sx={{\n            '& .MuiDataGrid-cell:hover': {\n              color: 'primary.main',\n            },\n          }}\n        />\n      </Paper>\n\n      <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <DialogTitle>\n            {selectedUser ? 'Editar Usuario' : 'Nuevo Usuario'}\n          </DialogTitle>\n          <DialogContent>\n            <Grid container spacing={2} sx={{ mt: 1 }}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Usuario\"\n                  {...register('username', { required: 'El usuario es requerido' })}\n                  error={!!errors.username}\n                  helperText={errors.username?.message}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Email\"\n                  type=\"email\"\n                  {...register('email', { \n                    required: 'El email es requerido',\n                    pattern: {\n                      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                      message: 'Email inválido'\n                    }\n                  })}\n                  error={!!errors.email}\n                  helperText={errors.email?.message}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Nombre\"\n                  {...register('first_name', { required: 'El nombre es requerido' })}\n                  error={!!errors.first_name}\n                  helperText={errors.first_name?.message}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Apellido\"\n                  {...register('last_name', { required: 'El apellido es requerido' })}\n                  error={!!errors.last_name}\n                  helperText={errors.last_name?.message}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Rol\"\n                  select\n                  defaultValue=\"user\"\n                  {...register('role', { required: 'El rol es requerido' })}\n                  error={!!errors.role}\n                  helperText={errors.role?.message}\n                >\n                  <MenuItem value=\"admin\">Administrador</MenuItem>\n                  <MenuItem value=\"user\">Usuario</MenuItem>\n                  <MenuItem value=\"viewer\">Visualizador</MenuItem>\n                </TextField>\n              </Grid>\n              {selectedUser && (\n                <Grid item xs={12} sm={6}>\n                  <FormControlLabel\n                    control={\n                      <Switch\n                        {...register('is_active')}\n                        defaultChecked={selectedUser.is_active}\n                      />\n                    }\n                    label=\"Usuario Activo\"\n                  />\n                </Grid>\n              )}\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label={selectedUser ? 'Nueva Contraseña (opcional)' : 'Contraseña'}\n                  type=\"password\"\n                  {...register('password', { \n                    required: !selectedUser ? 'La contraseña es requerida' : false,\n                    minLength: {\n                      value: 6,\n                      message: 'La contraseña debe tener al menos 6 caracteres'\n                    }\n                  })}\n                  error={!!errors.password}\n                  helperText={errors.password?.message}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label=\"Confirmar Contraseña\"\n                  type=\"password\"\n                  {...register('confirmPassword', {\n                    validate: (value, { password }) => {\n                      if (!selectedUser && !value) return 'Confirme la contraseña';\n                      if (password && value !== password) return 'Las contraseñas no coinciden';\n                      return true;\n                    }\n                  })}\n                  error={!!errors.confirmPassword}\n                  helperText={errors.confirmPassword?.message}\n                />\n              </Grid>\n            </Grid>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleCloseDialog}>Cancelar</Button>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              disabled={createMutation.isPending || updateMutation.isPending}\n            >\n              {selectedUser ? 'Actualizar' : 'Crear'}\n            </Button>\n          </DialogActions>\n        </form>\n      </Dialog>\n    </Box>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}